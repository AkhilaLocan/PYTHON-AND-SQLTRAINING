# SQL Training Session 

## Query Techniques

- SELECT For selecting specific columns
- DISTINCT for unique values
- WHERE clause for row‑level filtering
- LIMIT to restrict result count
- ORDER BY ASC/DESC for sorting
- COUNT is used to get the total number of entries

---EXAMPLE---
SELECT COUNT(DISTINCT(TITLE)) FROM SAKILA.FILM;

SELECT COUNT(TITLE) FROM SAKILA.FILM;

SELECT first_name, last_name FROM SAKILA.FILM LIMIT 50;

SELECT * FROM SAKILA.FILM WHERE RATING ='R' AND LENGTH >=91;

SELECT * FROM SAKILA.FILM ORDER BY RENTAL_RATE DESC;

------AND,OR----------
SELECT * FROM SAKILA.FILM
WHERE RATING ='PG' AND RENTA_DURATION = 4
ORDER BY RENTAL_RATE ASC;

SELECT * FROM SAKILA.FILM
WHERE RATING ='PG' OR RENTA_DURATION = 4
ORDER BY RENTAL_RATE ASC;

-----some examples of NOT conditions------ 

1)

SELECT * FROM SAKILA.FILM
WHERE NOT RENTAL_DURATION = 4
ORDER BY RENTAL_RATE ASC;

2)

SELECT * FROM SAKILA.FILM
WHERE RENTAL_DURATION != 4
ORDER BY RENTAL_RATE ASC;

3)

SELECT * FROM SAKILA.FILM
WHERE RENTAL_DURATION <> 4
ORDER BY RENTAL_RATE ASC;

## WILD CARDS
- There are two wildcards often used in conjuction with the LIKE operator
- The % represent zero, one or multiple characters
- The _ represent one, single character

-----EXAMPLES----
1. SELECT CITY FROM SAKILA.CITY WHERE CITY LIKE 'A%S';
this query that starts with A and there could me anything in between and then it ends with S.

2. SELECT CITY FROM SAKILA.CITY WHERE CITY LIKE '_S___D%';
This query starts with one unknown character and then followed by S and then again three unknown characters and then D and it could end with % which means anything. 


## NULL Handling

- IS NULL and IS NOT NULL to include/exclude missing values
- Example: rental records with null return date indicate unreturned items

------ BETWEEN KEYWORD -----  which can be used for range. 
SELECT RENTAL_ID, INVENTORY_ID, CUSTOMER_ID, RETURN_DATE
FROM SAKILA.RENTAL
WHERE RETURN_DATE BETWEEN '2005-9-22' AND '2025-08-12';

## GROUP BY & HAVING

- GROUP BY aggregates rows by one or more columns
- HAVING filters aggregated results (e.g., totals &gt; 100)
- The keyword HAVING can not be used alone and has to be used with GROUP BY keywords alongside. 

--EXAMPLE--
SELECT CUSTOMER_ID, COUNT (*) AS COUNT
FROM SAKILA.RENTAL
GROUP BY CUSTOMER_ID
HAVING COUNT (*) <= 30
ORDER BY COUNT DESC;

## Order of Execution

- Execution flow: **FROM → JOIN → WHERE → GROUP BY → HAVING → SELECT → ORDER BY → LIMIT**


### WHERE AND HAVING
. WHERE filters rows before grouping/aggregation (GROUP BY) happens.
•	HAVING filters groups/aggregated results after grouping, and it’s where you put conditions like COUNT(*) > 5 or SUM(amount) > 1000.
---EXAMPLE----
-- WHERE: filters rows before grouping
SELECT *
FROM orders
WHERE status = 'PAID';

-- HAVING: filters groups after aggregation
SELECT customer_id, COUNT(*) AS total_orders
FROM orders
GROUP BY customer_id
HAVING COUNT(*) > 5;
